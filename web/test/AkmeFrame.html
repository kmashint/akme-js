<!DOCTYPE html ><html xmlns='http://www.w3.org/1999/xhtml'><head>
<title>AkmeFrame</title>
<meta http-equiv='X-UA-Compatible' content='IE=edge' />
<script src='AkmeService.js'></script>
<script>/*<![CDATA[*/

// message EventListener and responder, a service-oriented iframe

akme.onEvent(window, "message", function(messageEvent) { // ev.data, ev.origin, ev.source
    var source = messageEvent.source;
    var origin = messageEvent.origin;
	var allowOrigin = "http://localhost";
    if (allowOrigin !== origin) {
      alert("AkmeFrame deny "+ ev.origin);
	  return;
	}
	 
    var result = "Hello "+ messageEvent.data +"!";
    
    if (messageEvent.source) messageEvent.source.postMessage(result, messageEvent.origin);
    else source.postMessage(result, origin);
});

/*]]>*/</script>
<head><body>
AkmeFrame
</body></html>